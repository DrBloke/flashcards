---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";
import { deckSchema } from "../schemas/deck";

export async function getStaticPaths() {
  const decks = await getCollection("decks");
  return decks.map((deck) => ({
    params: { id: deck.id },
    props: { deck },
  }));
}
const { deck } = Astro.props;
deckSchema.parse(deck.data);
---

<BaseLayout pageTitle={deck.data.title}>
  <flashcard-deck
    deck={JSON.stringify(deck.data)}
    home-route={import.meta.env.BASE_URL}></flashcard-deck>
</BaseLayout>

<script>
  import "../components/lit/Flashcard.ts";
</script>
